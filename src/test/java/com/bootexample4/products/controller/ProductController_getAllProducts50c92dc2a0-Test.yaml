# Test generated by RoostGPT for test june9rockwelldemo using AI Model gpt

config:
  target: "https://api.example.com"
  phases:
    - duration: 60
      arrivalRate: 5

scenarios:
  - name: "Successful API request"
    flow:
      - get:
          url: "/products"
          headers:
            Content-Type: "application/json"
          capture:
            - json: "$"
              as: "response"
          expect:
            - statusCode: 200
            - contentType: json
            - hasProperty: "response[0].id"
            - hasProperty: "response[0].name"

  - name: "API request with validation failure"
    flow:
      - get:
          url: "/products"
          headers:
            Content-Type: "application/xml"
          capture:
            - json: "$"
              as: "response"
          expect:
            - statusCode: 400
            - contentType: json
            - hasProperty: "response.error"
            - equals: ["response.error", "Invalid request format"]

  - name: "API request with edge case"
    flow:
      - get:
          url: "/products?name=%3Cscript%3Ealert('XSS')%3C/script%3E"
          headers:
            Content-Type: "application/json"
          capture:
            - json: "$"
              as: "response"
          expect:
            - statusCode: 200
            - contentType: json
            - hasProperty: "response[0].id"
            - hasProperty: "response[0].name"
            - notMatch: ["response[0].name", "<script>alert('XSS')</script>"]