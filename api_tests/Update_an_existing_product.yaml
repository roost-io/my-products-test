# Test generated by RoostGPT for test products-integration-artillery using AI Type Azure Open AI and AI Model roost-gpt4-32k


config: 
  target: "{{ $processEnvironment.API_HOST }}/api/"
  phases:
    - duration: 60
      arrivalRate: 1
scenarios: 
  - name: "Update an existing product"
    flow:
    - post:
        url: "/products"
        json:
          name: 'Existing Product'
          description: 'This is an existing product.'
          price: 10.0
        capture:
          json: "$.id"
          as: "productId"
        expect:
          - statusCode: 201
    - think: 1
    - put:
        url: "/products/{{ productId }}"
        json:
          name: 'Updated Product'
          description: 'This is an updated test product.'
          price: 15.0
        expect:
          - statusCode: 200
          - equals:
            - "name"
            - "Updated Product"
          - equals:
            - "description"
            - "This is an updated test product."
          - equals:
            - "price"
            - 15.0
    - get: 
        url: "/products/{{ productId }}"
        expect:
          - statusCode: 200
          - hasProperty: "name"
          - hasProperty: "description"
          - hasProperty: "price"
